# 组件规划

---

## 基础组件 (components/)

### 1. product-card 商品卡片

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| product | Object | 是 | - | 商品数据 `{ _id, name, price, originalPrice, image, sales }` |
| showAdd | Boolean | 否 | true | 是否显示加购按钮 |
| imageMode | String | 否 | aspectFill | 图片裁剪模式 |
| size | String | 否 | default | 尺寸：default / small |

**Events**

| 事件 | 参数 | 说明 |
|------|------|------|
| tap | `{ product }` | 点击卡片 |
| addcart | `{ product }` | 点击加购按钮 |

**Slot**

| 名称 | 说明 |
|------|------|
| 默认 | 无，内容由 props 驱动 |
| badge | 角标内容（如：热卖、新品） |

---

### 2. category-nav 分类导航

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| categories | Array | 是 | [] | 分类列表 `[{ _id, name }]` |
| activeId | String | 否 | '' | 当前选中分类 ID |
| scroll | Boolean | 否 | false | 是否横向滚动 |

**Events**

| 事件 | 参数 | 说明 |
|------|------|------|
| change | `{ id, index }` | 切换分类 |

**Slot**

| 名称 | 说明 |
|------|------|
| 默认 | 无 |
| extra | 右侧扩展区域 |

---

### 3. cart-item 购物车项

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| item | Object | 是 | - | 商品项 `{ _id, productId, name, image, price, quantity, spec }` |
| editable | Boolean | 否 | true | 是否可编辑（数量、删除） |
| showCheckbox | Boolean | 否 | true | 是否显示勾选框 |

**Events**

| 事件 | 参数 | 说明 |
|------|------|------|
| select | `{ item, checked }` | 勾选变化 |
| quantityChange | `{ item, quantity }` | 数量变化 |
| delete | `{ item }` | 删除 |

**Slot**

| 名称 | 说明 |
|------|------|
| 默认 | 无 |
| extra | 右侧扩展（如规格说明） |

---

### 4. order-card 订单卡片

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| order | Object | 是 | - | 订单数据 |
| showActions | Boolean | 否 | true | 是否显示操作按钮 |
| actions | Array | 否 | [] | 自定义按钮 `[{ text, type }]`，不传则按 status 自动生成 |

**Events**

| 事件 | 参数 | 说明 |
|------|------|------|
| tap | `{ order }` | 点击卡片（进入详情） |
| action | `{ order, action }` | 点击操作按钮 |

**Slot**

| 名称 | 说明 |
|------|------|
| header | 卡片头部（如订单号、状态） |
| footer | 卡片底部（金额、时间） |

---

### 5. loading 加载状态

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| type | String | 否 | spinner | 类型：spinner / skeleton |
| text | String | 否 | 加载中 | 提示文字 |
| size | String | 否 | default | 尺寸：small / default / large |
| skeletonRows | Number | 否 | 4 | skeleton 时行数 |

**Events**

无

**Slot**

| 名称 | 说明 |
|------|------|
| 默认 | 可替换为自定义加载内容 |

---

### 6. empty 空状态

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| icon | String | 否 | default | 图标：default / cart / order / search |
| text | String | 否 | 暂无数据 | 提示文字 |
| action | Object | 否 | - | 操作按钮 `{ text, bindtap }` |

**Events**

| 事件 | 参数 | 说明 |
|------|------|------|
| action | - | 点击操作按钮 |

**Slot**

| 名称 | 说明 |
|------|------|
| 默认 | 可替换整块空状态内容 |
| desc | 副标题/描述 |

---

### 7. toast 轻提示

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| message | String | 是 | - | 提示文案 |
| type | String | 否 | text | 类型：success / error / warning / text |
| duration | Number | 否 | 2000 | 显示时长(ms) |
| mask | Boolean | 否 | false | 是否遮罩 |

**Events**

无（通常由调用方 `wx.showToast` 或封装方法触发）

**Slot**

无（轻提示组件多为命令式调用，非插槽式）

---

## 图表组件（用于数据看板）

### 8. line-chart 折线图

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| data | Array | 是 | [] | 数据 `[{ date, value, label? }]` |
| height | Number | 否 | 300 | 高度(rpx) |
| xField | String | 否 | date | X 轴字段 |
| yField | String | 否 | value | Y 轴字段 |
| color | String | 否 | 主题色 | 线条颜色 |

**Events**

| 事件 | 参数 | 说明 |
|------|------|------|
| pointTap | `{ item, index }` | 点击数据点 |

**Slot**

无

---

### 9. pie-chart 饼图

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| data | Array | 是 | [] | 数据 `[{ name, value }]` |
| height | Number | 否 | 300 | 高度(rpx) |
| showLegend | Boolean | 否 | true | 是否显示图例 |

**Events**

| 事件 | 参数 | 说明 |
|------|------|------|
| itemTap | `{ item, index }` | 点击扇区 |

**Slot**

无

---

### 10. stat-card 统计卡片

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| title | String | 是 | - | 标题 |
| value | String | 是 | - | 主数值 |
| unit | String | 否 | '' | 单位 |
| sub | String | 否 | '' | 副标题/环比说明 |
| trend | String | 否 | - | 趋势：up / down / flat |

**Events**

| 事件 | 参数 | 说明 |
|------|------|------|
| tap | - | 点击卡片 |

**Slot**

| 名称 | 说明 |
|------|------|
| 默认 | 可替换主数值区域 |
| extra | 右上角扩展 |
